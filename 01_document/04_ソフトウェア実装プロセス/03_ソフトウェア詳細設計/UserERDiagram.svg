<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="793px" preserveAspectRatio="none" style="width:450px;height:793px;" version="1.1" viewBox="0 0 450 793" width="450px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wpxhr2z6k5jc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="149" x="161.5" y="16.708">User ER diagram</text><!--cluster ext--><path d="M22,54.9531 C22,44.9531 230,44.9531 230,44.9531 C230,44.9531 438,44.9531 438,54.9531 L438,771.9531 C438,781.9531 230,781.9531 230,781.9531 C230,781.9531 22,781.9531 22,771.9531 L22,54.9531 " fill="#FFFFFF" filter="url(#f1wpxhr2z6k5jc)" style="stroke: #000000; stroke-width: 2.0;"/><path d="M22,54.9531 C22,64.9531 230,64.9531 230,64.9531 C230,64.9531 438,64.9531 438,54.9531 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="203.5" y="78.9482">MySQL</text><!--class user--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="99.2188" id="user" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="107.5" y="94.9531"/><ellipse cx="176.75" cy="110.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M172.7813,103.0625 L173.2188,101.7656 Q177.2969,102.4531 180.7188,103.7344 L180.0625,105.2031 Q176.1875,103.6719 172.7813,103.0625 Z M177.9375,115.7031 L184.5625,115.7031 L184.5625,116.8594 L168.9375,116.8594 L168.9375,115.7031 L175.5625,115.7031 L175.5625,111.2813 L170.4688,111.2813 L170.4688,110.1406 L175.5625,110.1406 L175.5625,106.4844 L169.2813,106.4844 L169.2813,105.3281 L184.2188,105.3281 L184.2188,106.4844 L177.9375,106.4844 L177.9375,110.1406 L183.0313,110.1406 L183.0313,111.2813 L177.9375,111.2813 L177.9375,115.7031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="197.25" y="115.1074">user</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="108.5" x2="281.5" y1="126.9531" y2="126.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="113.5" y="141.1636">+user_id [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="108.5" x2="281.5" y1="147.7578" y2="147.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="113.5" y="161.9683">#encoded_password</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="113.5" y="174.7729">name [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="113.5" y="187.5776">extended_authentication [FK]</text><!--class extended_authentication--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="86.4141" id="extended_authentication" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="38.5" y="533.9531"/><ellipse cx="53.5" cy="549.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M53.9375,547.4844 L53.9375,554 L55.0625,554 C55.5156,554 55.6563,554.0313 55.8125,554.1563 C56.0469,554.3281 56.1719,554.5781 56.1719,554.8594 C56.1719,555.1406 56.0313,555.4375 55.7656,555.5781 C55.6563,555.6563 55.3906,555.7031 55.0625,555.7031 L51.125,555.7031 C50.7344,555.7031 50.5156,555.6563 50.3594,555.5313 C50.1406,555.375 50,555.1094 50,554.8594 C50,554.5625 50.1563,554.2813 50.4063,554.125 C50.5625,554.0156 50.6875,554 51.125,554 L52.2344,554 L52.2344,547.4844 L50.4063,547.4844 L50.4063,549.0781 C50.4063,549.5313 50.375,549.6719 50.2656,549.8438 C50.0938,550.0625 49.8438,550.1875 49.5625,550.1875 C49.2813,550.1875 48.9844,550.0469 48.8281,549.7813 C48.75,549.6406 48.7188,549.4688 48.7188,549.0781 L48.7188,545.7969 L57.4844,545.7969 L57.4844,549.0781 C57.4844,549.5469 57.4688,549.6719 57.3281,549.8438 C57.1563,550.0625 56.9063,550.1875 56.6406,550.1875 C56.3438,550.1875 56.0625,550.0313 55.9063,549.7813 C55.8125,549.6406 55.7813,549.4688 55.7813,549.0781 L55.7813,547.4844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="67.5" y="554.1074">extended_authentication</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="226.5" y1="565.9531" y2="565.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="44.5" y="580.1636">id [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="39.5" x2="226.5" y1="586.7578" y2="586.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="44.5" y="600.9683">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="44.5" y="613.7729">extended_authentication_value</text><!--class user_has_role--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="73.6094" id="user_has_role" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="239.5" y="253.9531"/><ellipse cx="254.5" cy="269.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M254.9375,267.4844 L254.9375,274 L256.0625,274 C256.5156,274 256.6563,274.0313 256.8125,274.1563 C257.0469,274.3281 257.1719,274.5781 257.1719,274.8594 C257.1719,275.1406 257.0313,275.4375 256.7656,275.5781 C256.6563,275.6563 256.3906,275.7031 256.0625,275.7031 L252.125,275.7031 C251.7344,275.7031 251.5156,275.6563 251.3594,275.5313 C251.1406,275.375 251,275.1094 251,274.8594 C251,274.5625 251.1563,274.2813 251.4063,274.125 C251.5625,274.0156 251.6875,274 252.125,274 L253.2344,274 L253.2344,267.4844 L251.4063,267.4844 L251.4063,269.0781 C251.4063,269.5313 251.375,269.6719 251.2656,269.8438 C251.0938,270.0625 250.8438,270.1875 250.5625,270.1875 C250.2813,270.1875 249.9844,270.0469 249.8281,269.7813 C249.75,269.6406 249.7188,269.4688 249.7188,269.0781 L249.7188,265.7969 L258.4844,265.7969 L258.4844,269.0781 C258.4844,269.5469 258.4688,269.6719 258.3281,269.8438 C258.1563,270.0625 257.9063,270.1875 257.6406,270.1875 C257.3438,270.1875 257.0625,270.0313 256.9063,269.7813 C256.8125,269.6406 256.7813,269.4688 256.7813,269.0781 L256.7813,267.4844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="268.5" y="274.1074">user_has_role</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="240.5" x2="357.5" y1="285.9531" y2="285.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="245.5" y="300.1636">user_name [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="240.5" x2="357.5" y1="306.7578" y2="306.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="245.5" y="320.9683">role_id [FK]</text><!--class role_has_permission--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="73.6094" id="role_has_permission" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="262.5" y="539.9531"/><ellipse cx="277.5" cy="555.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M277.9375,553.4844 L277.9375,560 L279.0625,560 C279.5156,560 279.6563,560.0313 279.8125,560.1563 C280.0469,560.3281 280.1719,560.5781 280.1719,560.8594 C280.1719,561.1406 280.0313,561.4375 279.7656,561.5781 C279.6563,561.6563 279.3906,561.7031 279.0625,561.7031 L275.125,561.7031 C274.7344,561.7031 274.5156,561.6563 274.3594,561.5313 C274.1406,561.375 274,561.1094 274,560.8594 C274,560.5625 274.1563,560.2813 274.4063,560.125 C274.5625,560.0156 274.6875,560 275.125,560 L276.2344,560 L276.2344,553.4844 L274.4063,553.4844 L274.4063,555.0781 C274.4063,555.5313 274.375,555.6719 274.2656,555.8438 C274.0938,556.0625 273.8438,556.1875 273.5625,556.1875 C273.2813,556.1875 272.9844,556.0469 272.8281,555.7813 C272.75,555.6406 272.7188,555.4688 272.7188,555.0781 L272.7188,551.7969 L281.4844,551.7969 L281.4844,555.0781 C281.4844,555.5469 281.4688,555.6719 281.3281,555.8438 C281.1563,556.0625 280.9063,556.1875 280.6406,556.1875 C280.3438,556.1875 280.0625,556.0313 279.9063,555.7813 C279.8125,555.6406 279.7813,555.4688 279.7813,555.0781 L279.7813,553.4844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="291.5" y="560.1074">role_has_permission</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="263.5" x2="420.5" y1="571.9531" y2="571.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="268.5" y="586.1636">role_name [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="263.5" x2="420.5" y1="592.7578" y2="592.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="268.5" y="606.9683">permission_id [FK]</text><!--class permission--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="86.4141" id="permission" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="292" y="679.9531"/><ellipse cx="307" cy="695.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M307.4375,693.4844 L307.4375,700 L308.5625,700 C309.0156,700 309.1563,700.0313 309.3125,700.1563 C309.5469,700.3281 309.6719,700.5781 309.6719,700.8594 C309.6719,701.1406 309.5313,701.4375 309.2656,701.5781 C309.1563,701.6563 308.8906,701.7031 308.5625,701.7031 L304.625,701.7031 C304.2344,701.7031 304.0156,701.6563 303.8594,701.5313 C303.6406,701.375 303.5,701.1094 303.5,700.8594 C303.5,700.5625 303.6563,700.2813 303.9063,700.125 C304.0625,700.0156 304.1875,700 304.625,700 L305.7344,700 L305.7344,693.4844 L303.9063,693.4844 L303.9063,695.0781 C303.9063,695.5313 303.875,695.6719 303.7656,695.8438 C303.5938,696.0625 303.3438,696.1875 303.0625,696.1875 C302.7813,696.1875 302.4844,696.0469 302.3281,695.7813 C302.25,695.6406 302.2188,695.4688 302.2188,695.0781 L302.2188,691.7969 L310.9844,691.7969 L310.9844,695.0781 C310.9844,695.5469 310.9688,695.6719 310.8281,695.8438 C310.6563,696.0625 310.4063,696.1875 310.1406,696.1875 C309.8438,696.1875 309.5625,696.0313 309.4063,695.7813 C309.3125,695.6406 309.2813,695.4688 309.2813,695.0781 L309.2813,693.4844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="321" y="700.1074">permission</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="293" x2="391" y1="711.9531" y2="711.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="298" y="726.1636">id [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="391" y1="732.7578" y2="732.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="298" y="746.9683">alias</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="298" y="759.7729">name</text><!--class role--><rect fill="#FEFECE" filter="url(#f1wpxhr2z6k5jc)" height="86.4141" id="role" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="299" y="387.9531"/><ellipse cx="314" cy="403.9531" fill="#FFAA00" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M314.4375,401.4844 L314.4375,408 L315.5625,408 C316.0156,408 316.1563,408.0313 316.3125,408.1563 C316.5469,408.3281 316.6719,408.5781 316.6719,408.8594 C316.6719,409.1406 316.5313,409.4375 316.2656,409.5781 C316.1563,409.6563 315.8906,409.7031 315.5625,409.7031 L311.625,409.7031 C311.2344,409.7031 311.0156,409.6563 310.8594,409.5313 C310.6406,409.375 310.5,409.1094 310.5,408.8594 C310.5,408.5625 310.6563,408.2813 310.9063,408.125 C311.0625,408.0156 311.1875,408 311.625,408 L312.7344,408 L312.7344,401.4844 L310.9063,401.4844 L310.9063,403.0781 C310.9063,403.5313 310.875,403.6719 310.7656,403.8438 C310.5938,404.0625 310.3438,404.1875 310.0625,404.1875 C309.7813,404.1875 309.4844,404.0469 309.3281,403.7813 C309.25,403.6406 309.2188,403.4688 309.2188,403.0781 L309.2188,399.7969 L317.9844,399.7969 L317.9844,403.0781 C317.9844,403.5469 317.9688,403.6719 317.8281,403.8438 C317.6563,404.0625 317.4063,404.1875 317.1406,404.1875 C316.8438,404.1875 316.5625,404.0313 316.4063,403.7813 C316.3125,403.6406 316.2813,403.4688 316.2813,403.0781 L316.2813,401.4844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="328" y="408.1074">role</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="300" x2="354" y1="419.9531" y2="419.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="305" y="434.1636">id [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="300" x2="354" y1="440.7578" y2="440.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="305" y="454.9683">alias</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="305" y="467.7729">name</text><!--link user to extended_authentication--><path d="M188.008,194.0001 C175.768,278.9901 150.661,453.3201 139.089,533.6761 " fill="none" id="user-extended_authentication" style="stroke: #A80036; stroke-width: 1.0;"/><!--link user to user_has_role--><path d="M229.92,193.9711 C242.318,211.1981 256.174,230.4501 268.203,247.1641 " fill="none" id="user-user_has_role" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268.2169" x2="277.7599" y1="247.1819" y2="250.1703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268.2169" x2="268.0201" y1="247.1819" y2="257.18"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268.2169" x2="272.89" y1="247.1819" y2="253.6751"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270.2952" x2="263.802" y1="243.222" y2="247.8952"/><!--link user_has_role to role--><path d="M307.959,336.1071 C311.303,352.5901 315.09,371.2561 318.402,387.5751 " fill="none" id="user_has_role-role" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.9482" x2="300.4769" y1="336.0513" y2="329.4045"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.9482" x2="312.2371" y1="336.0513" y2="327.0177"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.9482" x2="306.357" y1="336.0513" y2="328.2111"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304.4259" x2="312.266" y1="338.8069" y2="337.2157"/><!--link role to role_has_permission--><path d="M331.379,473.9911 C333.254,491.9881 335.445,513.0251 337.349,531.3011 " fill="none" id="role-role_has_permission" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.371" x2="344.1686" y1="531.5263" y2="538.8606"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.371" x2="332.2334" y1="531.5263" y2="540.1056"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="337.371" x2="338.201" y1="531.5263" y2="539.4831"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="341.142" x2="333.1851" y1="529.1221" y2="529.9521"/><!--link role_has_permission to permission--><path d="M342,622.4611 C342,640.7151 342,661.7431 342,679.7521 " fill="none" id="role_has_permission-permission" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342" x2="336" y1="622.2901" y2="614.2901"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342" x2="348" y1="622.2901" y2="614.2901"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342" x2="342" y1="622.2901" y2="614.2901"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="338" x2="346" y1="624.2901" y2="624.2901"/><!--
@startuml
title User ER diagram
skinparam classAttributeIconSize 0

package "MySQL" as ext <<Database>> {
    entity user <<主,FFAA00)>> {
        + user_id [PK]
        - - -
        # encoded_password
        name [FK]
        extended_authentication [FK]
    }
    
    entity extended_authentication <<T,FFAA00)>> {
        id [PK]
        - - -
        user_id
        extended_authentication_value
    }
    
    entity user_has_role <<T, FFAA00>> {
        user_name [PK]
        - - -
        role_id [FK]
    }
    
    entity role_has_permission <<T, FFAA00>> {
        role_name [PK]
        - - -
        permission_id [FK]
    }

    entity permission <<T, FFAA00>> {
        id [PK]
        - - -
        alias
        name
    }
    
    entity role <<T, FFAA00>> {
        id [PK]
        - - - -
        alias
        name
    }
}

user -down- - - extended_authentication
user -down-|{ user_has_role
user_has_role }|-down- role
role -down-|{ role_has_permission
role_has_permission }|-down- permission


' ref 
' https://qiita.com/HHFactory/items/0fcdb0dd2543d46a78fd
' https://qiita.com/kawasima/items/8dd7eda743f2fdcad78e
@enduml

PlantUML version 1.2017.18(Fri Oct 06 16:56:32 UTC 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>